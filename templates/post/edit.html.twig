{% extends "base.html.twig" %}

{% block body %}
	<div class="container mx-auto my-12 border-b border-gray-400 pb-4">
		<h1 class="text-5xl font-semibold mb-4">Edit Blog Post</h1>
	</div>


	<div class="container mx-auto">
		{% if app.user == post.author %}
			{{ form_start(form) }}
			<div>
				{% set title_error = form_errors(form.title) ? 'text-red-600' : '' %}
				{{ form_label(form.title, 'Post Title', {'label_attr':{'class': (title_error)~' block text-sm text-gray-700 font-medium'}}) }}
				{{ form_widget(form.title, { 'attr': {'class': 'block w-full shadow-sm border border-gray-300 mt-1 p-2 rounded-sm'} })}}
				<div class="text-red-600">{{ form_errors(form.title) }}</div>
			</div>
			<div>
				{% set content_error = form_errors(form.content) ? 'text-red-600' : '' %}
				{{ form_label(form.content, 'Post Content', {'label_attr':{'class':(title_error)~' block text-sm text-gray-700 font-medium mt-3'}}) }}
				{{ form_widget(form.content, { 'attr': {'rows': 8, 'class': 'block w-full shadow-sm border border-gray-300 mt-1 p-2 rounded-sm'} })}}
				<div class="text-red-600">{{ form_errors(form.content) }}</div>
			</div>

			<button type="submit" class="mt-4 w-full bg-sky-200 p-4 rounded-md hover:bg-sky-300">Edit Post</button>
			{{ form_end(form) }}
		{% else %}
			<div>You are not the author of this post</div>
		{% endif %}

	</div>
{% endblock %}
